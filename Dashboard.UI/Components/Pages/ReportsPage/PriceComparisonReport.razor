@page "/report/price-comparison"

<MudContainer Class="px-8" MaxWidth="MaxWidth.False">
    <MudGrid>
        <MudItem xs="12" sm="12" md="12">
            <MudPaper Elevation="3" class="d-flex justify-content-between p-4 align-items-center">
                <MudGrid Class="d-flex align-items-center">
                    <MudItem xs="6" sm="6" md="6">
                        <MudSelect T="int" Label="Supplier" MultiSelection="false" @bind-Value="_idMup"
                                   Variant="Variant.Text" Required="true"
                                   FullWidth="true"
                                   CloseIcon="@Icons.Material.Filled.Flag" AdornmentColor="Color.Tertiary"
                                   AnchorOrigin="Origin.BottomCenter">
                            @foreach (var mup in _listMup)
                            {
                                <MudSelectItem T="int" Value="@mup.Id">@mup.Description</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                    <MudItem xs="4" sm="4" md="4">
                        <MudItem xs="6" sm="6" md="6">
                            <MudButton Size="@Size.Medium" Variant="@Variant.Filled" Color="@Color.Primary"
                                       Style="text-transform: none;font-weight: bold;" 
                                       @onclick="@(() => ExecReport())">
                                Report
                            </MudButton>
                        </MudItem>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>
        <MudItem xs="12" sm="12" md="12">
            @if (_productOfferings?.Count() > 0)
            {
               <MudDataGrid T="ProductOffering" Items="@_productOfferings"
                         Striped="true" 
                         Height="90%" ColumnResizeMode="ResizeMode.None" 
                         MultiSelection="false" Hover="true" Bordered="true" Elevation="15">
                <Columns>
                    <PropertyColumn Property="x => x.Supc" Title="Code"
                                    Resizable="false"
                                    CellStyle="width: 5%;" />
                    <PropertyColumn Property="x => x.Pack"
                                    Resizable="false"
                                    CellStyle="width: 5%;" />
                    <PropertyColumn Property="x => x.Size"
                                    Resizable="false"
                                    CellStyle="width: 5%;"/>
                    <PropertyColumn Property="x => x.Unit"
                                    Resizable="false"
                                    CellStyle="width: 5%;"/>
                    <PropertyColumn Property="x => x.Brand"
                                    Resizable="false"
                                    CellStyle="width: 10%" />
                    <PropertyColumn Property="x => x.Desc"
                                    Resizable="false"
                                    CellStyle="width: 20%" />
                    <PropertyColumn Property="x => x.Cat"
                                    Resizable="false"
                                    CellStyle="width: 10%" />
                    <PropertyColumn Property="x => x.Price"/>
                    <PropertyColumn Property="x => x.Stock"/>
                </Columns>
                <PagerContent>
                    <MudDataGridPager T="ProductOffering"/>
                </PagerContent>
            </MudDataGrid> 
            }
        </MudItem>
    </MudGrid>
</MudContainer>